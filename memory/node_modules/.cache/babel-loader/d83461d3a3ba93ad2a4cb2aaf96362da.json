{"ast":null,"code":"import Joi from \"joi-browser\";\nimport FormError from \"../Errors/FormError\"; //Schemas\n\nconst postSchema = {\n  title: Joi.string().required().min(1).messages({\n    \"string.base\": `\"title\" should be a type of 'text'`,\n    \"string.empty\": `\"title\" cannot be an empty field`,\n    \"string.min\": `\"title\" should have a minimum length of 1 character`,\n    \"any.required\": `\"title\" is a required field`\n  }),\n  text: Joi.string().required().min(1)\n};\nconst commentSchema = {\n  comment: Joi.string().required().min(1)\n};\nconst userRegistrationSchema = {\n  username: Joi.string().min(4).max(23).required().error(() => {\n    return {\n      message: \"Error in username\"\n    };\n  }),\n  email: Joi.string().min(4).max(32).required().email(),\n  password: Joi.string().min(5).max(255).required()\n};\nconst userLoginSchema = {\n  username: Joi.string().min(4).max(23).required().messages({\n    \"string.base\": `\"username\" should be a type of 'text'`,\n    \"string.empty\": `\"username\" cannot be an empty field`,\n    \"string.min\": `\"username\" should have a minimum length of 4`,\n    \"any.required\": `\"username\" is a required field`\n  }),\n  password: Joi.string().min(5).max(255).required().messages({\n    \"string.base\": `\"password\" should be a type of 'text'`,\n    \"string.empty\": `\"password\" cannot be an empty field`,\n    \"string.min\": `\"password\" should have a minimum length of 5`,\n    \"any.required\": `\"password\" is a required field`\n  })\n}; //Validations\n\nexport const validateInputText = post => {\n  console.log(post);\n  return Joi.validate(post, postSchema);\n};\nexport const validateInputFile = imageFile => {\n  if (!imageFile) {\n    return new FormError(\"File input must not be empty!\");\n  }\n\n  if (!imageFile.name.match(/\\.(jpg|jpeg|png)$/)) {\n    return new FormError(\"Invalid image type! Please select a valid image type! (jpg|jpeg|png)\");\n  }\n};\nexport const validateComment = comment => {\n  return Joi.validate(comment, commentSchema);\n};\nexport const validateRegisterUser = user => {\n  return Joi.validate(user, userRegistrationSchema);\n};\nexport const validateLoginUser = user => {\n  return Joi.validate(user, userLoginSchema);\n}; //Handlers\n\nexport const handleChange = (event, formValue, setFormValue) => {\n  setFormValue({ ...formValue,\n    [event.target.name]: event.target.value\n  });\n};\nexport const handleFileChange = (event, formValue, setFormValue) => {\n  setFormValue({ ...formValue,\n    [event.target.name]: event.target.files[0]\n  });\n};","map":{"version":3,"sources":["C:/Users/bob/Documents/React/Memory/memory/src/Services/FormService.js"],"names":["Joi","FormError","postSchema","title","string","required","min","messages","text","commentSchema","comment","userRegistrationSchema","username","max","error","message","email","password","userLoginSchema","validateInputText","post","console","log","validate","validateInputFile","imageFile","name","match","validateComment","validateRegisterUser","user","validateLoginUser","handleChange","event","formValue","setFormValue","target","value","handleFileChange","files"],"mappings":"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","sourcesContent":["import Joi from \"joi-browser\";\r\nimport FormError from \"../Errors/FormError\";\r\n\r\n//Schemas\r\n\r\nconst postSchema = {\r\n  title: Joi.string().required().min(1).messages({\r\n    \"string.base\": `\"title\" should be a type of 'text'`,\r\n    \"string.empty\": `\"title\" cannot be an empty field`,\r\n    \"string.min\": `\"title\" should have a minimum length of 1 character`,\r\n    \"any.required\": `\"title\" is a required field`,\r\n  }),\r\n  text: Joi.string().required().min(1),\r\n};\r\n\r\nconst commentSchema = {\r\n  comment: Joi.string().required().min(1),\r\n};\r\n\r\nconst userRegistrationSchema = {\r\n  username: Joi.string()\r\n    .min(4)\r\n    .max(23)\r\n    .required()\r\n    .error(() => {\r\n      return {\r\n        message: \"Error in username\",\r\n      };\r\n    }),\r\n  email: Joi.string().min(4).max(32).required().email(),\r\n  password: Joi.string().min(5).max(255).required(),\r\n};\r\n\r\nconst userLoginSchema = {\r\n  username: Joi.string().min(4).max(23).required().messages({\r\n    \"string.base\": `\"username\" should be a type of 'text'`,\r\n    \"string.empty\": `\"username\" cannot be an empty field`,\r\n    \"string.min\": `\"username\" should have a minimum length of 4`,\r\n    \"any.required\": `\"username\" is a required field`,\r\n  }),\r\n  password: Joi.string().min(5).max(255).required().messages({\r\n    \"string.base\": `\"password\" should be a type of 'text'`,\r\n    \"string.empty\": `\"password\" cannot be an empty field`,\r\n    \"string.min\": `\"password\" should have a minimum length of 5`,\r\n    \"any.required\": `\"password\" is a required field`,\r\n  }),\r\n};\r\n\r\n//Validations\r\n\r\nexport const validateInputText = (post) => {\r\n  console.log(post);\r\n  return Joi.validate(post, postSchema);\r\n};\r\n\r\nexport const validateInputFile = (imageFile) => {\r\n  if (!imageFile) {\r\n    return new FormError(\"File input must not be empty!\");\r\n  }\r\n  if (!imageFile.name.match(/\\.(jpg|jpeg|png)$/)) {\r\n    return new FormError(\r\n      \"Invalid image type! Please select a valid image type! (jpg|jpeg|png)\"\r\n    );\r\n  }\r\n};\r\n\r\nexport const validateComment = (comment) => {\r\n  return Joi.validate(comment, commentSchema);\r\n};\r\n\r\nexport const validateRegisterUser = (user) => {\r\n  return Joi.validate(user, userRegistrationSchema);\r\n};\r\n\r\nexport const validateLoginUser = (user) => {\r\n  return Joi.validate(user, userLoginSchema);\r\n};\r\n\r\n//Handlers\r\n\r\nexport const handleChange = (event, formValue, setFormValue) => {\r\n  setFormValue({\r\n    ...formValue,\r\n    [event.target.name]: event.target.value,\r\n  });\r\n};\r\nexport const handleFileChange = (event, formValue, setFormValue) => {\r\n  setFormValue({\r\n    ...formValue,\r\n    [event.target.name]: event.target.files[0],\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}