{"ast":null,"code":"import Joi from \"joi-browser\";\nimport FormError from \"../Errors/FormError\"; //Schemas\n\nconst postSchema = {\n  title: Joi.string().required().min(1),\n  text: Joi.string().required().min(1)\n};\nconst commentSchema = {\n  comment: Joi.string().required().min(1)\n};\nconst userRegistrationSchema = {\n  username: Joi.string().min(4).max(23).required().error(() => {\n    return {\n      message: \"Error in username\"\n    };\n  }),\n  email: Joi.string().min(4).max(32).required().email(),\n  password: Joi.string().min(5).max(255).required()\n};\nconst userLoginSchema = {\n  username: Joi.string().min(4).max(23).required(),\n  password: Joi.string().min(5).max(255).required()\n}; //Validations\n\nexport const validateInputText = post => {\n  console.log(post);\n  return Joi.validate(post, postSchema);\n};\nexport const validateInputFile = imageFile => {\n  if (!imageFile) {\n    return new FormError(\"File input must not be empty!\");\n  }\n\n  if (!imageFile.name.match(/\\.(jpg|jpeg|png)$/)) {\n    return new FormError(\"Invalid image type! Please select a valid image type! (jpg|jpeg|png)\");\n  }\n};\nexport const validateComment = comment => {\n  return Joi.validate(comment, commentSchema);\n};\nexport const validateRegisterUser = user => {\n  return Joi.validate(user, userRegistrationSchema);\n};\nexport const validateLoginUser = user => {\n  return Joi.validate(user, userLoginSchema);\n}; //Handlers\n\nexport const handleChange = (event, formValue, setFormValue) => {\n  setFormValue({ ...formValue,\n    [event.target.name]: event.target.value\n  });\n};\nexport const handleFileChange = (event, formValue, setFormValue) => {\n  setFormValue({ ...formValue,\n    [event.target.name]: event.target.files[0]\n  });\n};","map":{"version":3,"sources":["C:/Users/bob/Documents/React/Memory/memory/src/Services/FormService.js"],"names":["Joi","FormError","postSchema","title","string","required","min","text","commentSchema","comment","userRegistrationSchema","username","max","error","message","email","password","userLoginSchema","validateInputText","post","console","log","validate","validateInputFile","imageFile","name","match","validateComment","validateRegisterUser","user","validateLoginUser","handleChange","event","formValue","setFormValue","target","value","handleFileChange","files"],"mappings":"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","sourcesContent":["import Joi from \"joi-browser\";\r\nimport FormError from \"../Errors/FormError\";\r\n\r\n//Schemas\r\n\r\nconst postSchema = {\r\n  title: Joi.string().required().min(1),\r\n  text: Joi.string().required().min(1),\r\n};\r\n\r\nconst commentSchema = {\r\n  comment: Joi.string().required().min(1),\r\n};\r\n\r\nconst userRegistrationSchema = {\r\n  username: Joi.string()\r\n    .min(4)\r\n    .max(23)\r\n    .required()\r\n    .error(() => {\r\n      return {\r\n        message: \"Error in username\",\r\n      };\r\n    }),\r\n  email: Joi.string().min(4).max(32).required().email(),\r\n  password: Joi.string().min(5).max(255).required(),\r\n};\r\n\r\nconst userLoginSchema = {\r\n  username: Joi.string().min(4).max(23).required(),\r\n  password: Joi.string().min(5).max(255).required(),\r\n};\r\n\r\n//Validations\r\n\r\nexport const validateInputText = (post) => {\r\n  console.log(post);\r\n  return Joi.validate(post, postSchema);\r\n};\r\n\r\nexport const validateInputFile = (imageFile) => {\r\n  if (!imageFile) {\r\n    return new FormError(\"File input must not be empty!\");\r\n  }\r\n  if (!imageFile.name.match(/\\.(jpg|jpeg|png)$/)) {\r\n    return new FormError(\r\n      \"Invalid image type! Please select a valid image type! (jpg|jpeg|png)\"\r\n    );\r\n  }\r\n};\r\n\r\nexport const validateComment = (comment) => {\r\n  return Joi.validate(comment, commentSchema);\r\n};\r\n\r\nexport const validateRegisterUser = (user) => {\r\n  return Joi.validate(user, userRegistrationSchema);\r\n};\r\n\r\nexport const validateLoginUser = (user) => {\r\n  return Joi.validate(user, userLoginSchema);\r\n};\r\n\r\n//Handlers\r\n\r\nexport const handleChange = (event, formValue, setFormValue) => {\r\n  setFormValue({\r\n    ...formValue,\r\n    [event.target.name]: event.target.value,\r\n  });\r\n};\r\nexport const handleFileChange = (event, formValue, setFormValue) => {\r\n  setFormValue({\r\n    ...formValue,\r\n    [event.target.name]: event.target.files[0],\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}